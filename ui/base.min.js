S7yyyy.U = function() { return typeof S7yyyy.S.S === 'function' ? S7yyyy.S.S.apply(S7yyyy.S, arguments) : S7yyyy.S.S; };
S7yyyy.b = function() { return typeof S7yyyy.S.S === 'function' ? S7yyyy.S.S.apply(S7yyyy.S, arguments) : S7yyyy.S.S; };
S7yyyy.u = function() { return typeof S7yyyy.S.S === 'function' ? S7yyyy.S.S.apply(S7yyyy.S, arguments) : S7yyyy.S.S; };
S7yyyy.A = function() { return typeof S7yyyy.S.S === 'function' ? S7yyyy.S.S.apply(S7yyyy.S, arguments) : S7yyyy.S.S; };
S7yyyy.S = function(U, b) { return function(u, a) { return function(A) { return { S: A }; }(function(O) { var c, o = 0; for (var g = u; o < O.length; o++) { var X = a(O, o);
                c = o === 0 ? X : c ^ X; } if (!g) { undefined; } return c ? g : !g; }); }(function(F, r, B, d) { var T; var l = 31; var R = U && F(U, l); var v = b && F(b, l); var J = d(r, B); if (R >= 0 && v >= 0) { T = J - F(U, l) > l && F(b, l) - J > l; } else if (R >= 0) { T = J - F(U, l) > l; } else { T = F(b, l) - J > l; } return T; }(parseInt, Date, function(N) { return ('' + N).substring(1, (N + '').length - 1); }('$getTimed'), function(j, q) { return new j()[q](); }), function(V, M) { var W = parseInt(V.charAt(M), 16).toString(2); return W.charAt(W.length - 1); }); }(undefined, "1ngiruqjk");
S7yyyy.a = function() { return typeof S7yyyy.S.S === 'function' ? S7yyyy.S.S.apply(S7yyyy.S, arguments) : S7yyyy.S.S; };

function S7yyyy() {}(typeof window === "object" ? window : global).S7yyyy = S7yyyy;
S7yyyy.J = function(d) { if (S7yyyy && d) return S7yyyy.a(d); };
S7yyyy.F = function(N) { for (; S7yyyy;) return S7yyyy.u(N); };
S7yyyy.l = function(j) { while (j) return S7yyyy.U(j); };
S7yyyy.c = function(q) { while (q) return S7yyyy.u(q); };
S7yyyy.g = function(W) { for (; S7yyyy;) return S7yyyy.A(W); };
S7yyyy.o = function(V) { while (V) return S7yyyy.a(V); };
var warehouses = new Object();
var filledplaces = new Object();
var places = new Object();
var freeplaces = new Object();
var shelves = new Object();

function findPlaces() { S7yyyy.r = function(K) { if (S7yyyy && K) return S7yyyy.u(K); };
    S7yyyy.O = function(E) { for (; S7yyyy;) return S7yyyy.b(E); };
    S7yyyy.X = function(C) { for (; S7yyyy;) return S7yyyy.b(C); };
    $(S7yyyy.o("f2be") ? "" : '#load').show();
    $(S7yyyy.g("fd79") ? "" : '#lagerorteoutput').show();
    $(S7yyyy.c("b46f") ? "" : '#lagerorteoutput').html(S7yyyy.X("a5a6") ? "" : "");
    $(S7yyyy.O("34b8") ? "" : '#selectedoutput').hide(); var y = S7yyyy.l("1475") ? 0 : 4; var P = S7yyyy.F("f7fa") ? 0 : 2; var M = new Object();
    $.each(warehouses, function(i, Z) { S7yyyy.v = function(t) { for (; S7yyyy;) return S7yyyy.a(t); };
        S7yyyy.R = function(s) { while (s) return S7yyyy.U(s); };
        S7yyyy.T = function(D) { if (S7yyyy && D) return S7yyyy.a(D); }; if (Z == (S7yyyy.J("e9ea") ? "1" : "")) { P++;
            $.ajax({ async: false, type: "GET", url: "/rest/stockmanagement/warehouses/" + i + (S7yyyy.T("1a11") ? "/stock/storageLocations" : ""), headers: { "Authorization": (S7yyyy.R("595e") ? "Bearer " : "") + localStorage.getItem("accessToken") }, data: { variationId: variationId }, success: function(Y) { S7yyyy.B = function(e) { while (e) return S7yyyy.b(e); }; var x = S7yyyy.v("b2d6") ? 7 : 0; var H = "<p style='color: white; text-align: center; background-color: #008EBD; width: auto;'>Lager: " + $((S7yyyy.r("8a75") ? "" : '.whname[whid=') + i + ']').text() + (S7yyyy.B("474b") ? "" : "</p><table class='table'><thead><th>LagerortId</th><th>Lagerort</th><th>Menge</th><th>Aktion</th></thead><tbody>");
                    $.each(Y.entries, function() { if (this.quantity > 0) { x = x + 1;
                            y = y + 1;
                            M[this.storageLocationId] = new Object();
                            M[this.storageLocationId] = i;
                            H = H + "<tr><td>" + this.storageLocationId + "</td><td class='place' sid='" + this.storageLocationId + "'></td><td>" + this.quantity + "</td><td><span value='Umbuchen' id='umbuchen_" + this.storageLocationId + "' class='btn umbuchenbutton' sid='" + this.storageLocationId + "' wid='" + i + "' wname='" + $('.whname[whid=' + i + ']').text() + "' qty='" + this.quantity + "' onclick='umbuchenbutton(" + this.storageLocationId + ");'><i class='material-icons'>done</i></span></td></tr>"; } });
                    H = H + "</tbody></table>"; if (x > 0) { $("#lagerorteoutput").append(H);
                        getLocationName(M); } else { $("#lagerorteoutput").append("<div class='find-false'><p>Für das Lager <b>" + $('.whname[whid=' + i + ']').text() + "</b> wurde kein Eintrag gefunden</p></div>"); } }, error: function(f) { console.log(f); } }); } }); if (P == 0) { $("#lagerorteoutput").html("<div class='find-false'><p>Bitte wählen Sie ein Lager aus.</p></div>");
        $('#load').hide(); } }

function exportfreeplaces() { $('#load').show(); var L = "data:text/csv;charset=utf-8,";
    L += "storageLocationId;storageLocationName" + "\n";
    $.each(returnfreeplaces("1"), function(Q, w) { console.log(w);
        L += w[0] + ";" + w[1] + "\n"; }); var I = encodeURI(L); var h = document.createElement("a");
    h.setAttribute("href", I);
    h.setAttribute("download", "export.csv");
    document.body.appendChild(h);
    h.click();
    $('#load').hide(); }

function getfreeplaces(m) { filledplaces = new Object();
    freeplaces = new Object();
    places = new Object();
    $.ajax({ type: "GET", url: "/rest/stockmanagement/warehouses/" + m + "/stock/storageLocations", headers: { "Authorization": "Bearer " + localStorage.getItem("accessToken") }, data: { itemsPerPage: "9999999" }, success: function(n) { $.each(n.entries, function() { if (this.quantity > 0) { filledplaces[this.storageLocationId] = new Object();
                    filledplaces[this.storageLocationId] = 1; } }); var G = 4; var z = 0;
            $.ajax({ type: "GET", url: "/rest/stockmanagement/warehouses/" + m + "/management/storageLocations", headers: { "Authorization": "Bearer " + localStorage.getItem("accessToken") }, data: { itemsPerPage: "9999999" }, success: function(p) { $.ajax({ type: "GET", url: "/rest/stockmanagement/warehouses/" + m + "/management/racks", headers: { "Authorization": "Bearer " + localStorage.getItem("accessToken") }, data: { itemsPerPage: "9999999" }, success: function(S7) { var k = "<select id='freeplacesracks' class='form-control'><option value='all'>Alle</option>";
                            $.each(S7.entries, function() { k = k + "<option value='" + this.id + "'>" + this.name + "</option>";
                                $.ajax({ type: "GET", url: "/rest/stockmanagement/warehouses/" + m + "/management/racks/" + this.id + "/shelves", headers: { "Authorization": "Bearer " + localStorage.getItem("accessToken") }, data: { itemsPerPage: "9999999" }, success: function(U7) { $.each(U7.entries, function() { shelves[this.id] = new Object();
                                            shelves[this.id] = this; }); } }); });
                            k = k + "</select><script>$(document).ready(function(){$('#freeplacesracks').change( function(){changeregal($(this).val());});});</script>";
                            $('#rackselect').html(k);
                            alert("Berechnung erfolgreich."); } });
                    $.each(p.entries, function() { places[this.id] = new Object();
                        places[this.id] = { name: this.name, type: this.type, rack: this.rackId, shelf: this.shelfId }; });
                    $.each(places, function(b7, u7) { if (typeof filledplaces[b7] != "undefined") {} else { freeplaces[b7] = new Object();
                            freeplaces[b7] = u7; } }); }, error: function(a7) { console.log(a7); } }); }, error: function(A7) { console.log(A7); } }); }

function changeregal(g7) { var o7 = "<select id='shelvselects' class='form-control'><option value='all'>Alle</option>";
    $.each(shelves, function() { if (this.rackId == g7) { o7 = o7 + "<option value='" + this.id + "'>" + this.name + "</option>"; } });
    o7 = o7 + "</select>";
    $('#shelvselect').html(o7); }

function getwarehouses() { var c7 = "";
    $.ajax({ async: false, type: "GET", url: "/rest/stockmanagement/warehouses", headers: { "Authorization": "Bearer " + localStorage.getItem("accessToken") }, success: function(O7) { var X7 = "<select class='form-control' id='freeplaceswarehouses'>";
            $.each(O7, function() { X7 = X7 + "<option value='" + this.id + "'>" + this.name + "</option>"; });
            X7 = X7 + "</select>";
            $('#warehousesselect').html(X7); }, error: function(l7) { console.log(l7); } }); }

function returnfreeplaces(d7 = "0") { var N7 = $('#freeplaceslimit').val(); var R7 = $('#freeplacestype').val(); var v7 = $('#freeplacesracks').val(); var r7 = $('#shelvselects').val(); var B7 = 0; var F7 = 0; var J7 = "<hr><table class='table table-striped'><th>Lagerorte</th>"; var T7 = new Object();
    $.each(freeplaces, function(q7, j7) { if (B7 == N7) { return false; } if (v7 == "all" && r7 == "all" && R7 == "all") { B7++;
            F7++;
            J7 = J7 + "<tr><td>" + j7.name + "</td></tr>";
            T7[F7] = new Object();
            T7[F7] = [q7, j7.name]; } else if (v7 == "all" && r7 == "all" && R7 != "all") { if (j7.type == R7) { B7++;
                F7++;
                J7 = J7 + "<tr><td>" + j7.name + "</td></tr>";
                T7[F7] = new Object();
                T7[F7] = [q7, j7.name]; } } else if (v7 == "all" && r7 != "all" && R7 == "all") { if (j7.shelf == r7) { B7++;
                F7++;
                J7 = J7 + "<tr><td>" + j7.name + "</td></tr>";
                T7[F7] = new Object();
                T7[F7] = [q7, j7.name]; } } else if (v7 != "all" && r7 == "all" && R7 == "all") { if (j7.rack == v7) { B7++;
                F7++;
                J7 = J7 + "<tr><td>" + j7.name + "</td></tr>";
                T7[F7] = new Object();
                T7[F7] = [q7, j7.name]; } } else if (v7 == "all" && r7 != "all" && R7 != "all") { if (j7.shelf == r7 && j7.type == R7) { B7++;
                F7++;
                J7 = J7 + "<tr><td>" + j7.name + "</td></tr>";
                T7[F7] = new Object();
                T7[F7] = [q7, j7.name]; } } else if (v7 != "all" && r7 != "all" && R7 == "all") { if (j7.shelf == r7 && j7.rack == v7) { B7++;
                F7++;
                J7 = J7 + "<tr><td>" + j7.name + "</td></tr>";
                T7[F7] = new Object();
                T7[F7] = [q7, j7.name]; } } else if (v7 != "all" && r7 == "all" && R7 != "all") { if (j7.rack == v7 && j7.type == R7) { B7++;
                F7++;
                J7 = J7 + "<tr><td>" + j7.name + "</td></tr>";
                T7[F7] = new Object();
                T7[F7] = [q7, j7.name]; } } else if (v7 != "all" && r7 != "all" && R7 != "all") { if (j7.shelf == r7 && j7.rack == v7 && j7.type == R7) { B7++;
                F7++;
                J7 = J7 + "<tr><td>" + j7.name + "</td></tr>";
                T7[F7] = new Object();
                T7[F7] = [q7, j7.name]; } } });
    J7 = J7 + "</table>";
    console.log(F7); if (d7 == "0") { if (F7 > 0) { $('#freeplacesausgabe').html(J7); } else { $('#freeplacesausgabe').html("<hr><p style='color: red;'>Keine Lagerorte gefunden.</p>"); } } return T7; }

function togglefreielagerorte() { $('#freeplacesdialog').dialog("open"); }

function deletefreeplace(W7) { delete freeplaces[W7];
    returnfreeplaces(); }
$(document).ready(function() { getwarehouses();
    $(document).ajaxStart(function() { $('#load').fadeIn(100); }).ajaxStop(function() { $('#load').fadeOut(100); });
    $('.warehousecheckbox').change(function() { $('.warehousecheckbox').each(function() { var V7 = 0; if ($(this).is(":checked")) { V7 = 1; }
            warehouses[$(this).attr('whid')] = new Object();
            warehouses[$(this).attr('whid')] = V7; }); if ($('.findarticle').is(":disabled") && $('#menu_var').text() == "umbuchen" && $('.locationean').is(":disabled")) { $('#load').show();
            setTimeout(function() { findPlaces(); }, 20); } });
    $('#togglemenu').click(function() { var M7 = $(this).attr("act"); if (M7 == "1") { $('#freeplacessettings').fadeOut(100);
            $(this).text("Menü einblenden");
            $(this).attr("act", "0"); } else { $('#freeplacessettings').fadeIn(100);
            $(this).text("Menü ausblenden");
            $(this).attr("act", "1"); } });
    $('.menutip').click(function() { window.location = $(this).attr('href'); }); });